// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`Bytes and Strings > Long Values (> 31 bytes) > should trace clearing a long string 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999998731775n,
      "modified": true,
      "next": 9999999999998391624n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 180n,
              "hex": "0xb4",
            },
            "fullExpression": "myString._length",
            "modified": true,
            "next": {
              "decoded": 0n,
              "hex": "0x00",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "a very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long string",
              "hex": "0x612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67",
            },
            "fullExpression": "myString",
            "modified": true,
            "next": {
              "decoded": "",
              "hex": "0x00",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e566",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e568",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Long Values (> 31 bytes) > should trace getting a long string 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999998731775n,
      "modified": true,
      "next": 9999999999998471046n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 180n,
              "hex": "0xb4",
            },
            "fullExpression": "myString._length",
            "modified": false,
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "a very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long string",
              "hex": "0x612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67",
            },
            "fullExpression": "myString",
            "modified": false,
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e566",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e568",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Long Values (> 31 bytes) > should trace getting long bytes 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999999367039n,
      "modified": true,
      "next": 9999999999999166748n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myBytes": {
        "kind": "bytes",
        "name": "myBytes",
        "trace": [
          {
            "current": {
              "decoded": 60n,
              "hex": "0x3c",
            },
            "fullExpression": "myBytes._length",
            "modified": false,
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000001",
            ],
          },
          {
            "current": {
              "decoded": "0xabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd",
              "hex": "0xabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd",
            },
            "fullExpression": "myBytes",
            "modified": false,
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000001",
              "0xb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6",
              "0xb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf7",
            ],
          },
        ],
        "type": "bytes",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Long Values (> 31 bytes) > should trace setting a long string 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 10000000000000000000n,
      "modified": true,
      "next": 9999999999998731775n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": true,
      "next": 1,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 0n,
              "hex": "0x00",
            },
            "fullExpression": "myString._length",
            "modified": true,
            "next": {
              "decoded": 180n,
              "hex": "0xb4",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "",
              "hex": "0x00",
            },
            "fullExpression": "myString",
            "modified": true,
            "next": {
              "decoded": "a very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long string",
              "hex": "0x612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e566",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e568",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Long Values (> 31 bytes) > should trace setting long bytes 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 10000000000000000000n,
      "modified": true,
      "next": 9999999999999367039n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": true,
      "next": 1,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myBytes": {
        "kind": "bytes",
        "name": "myBytes",
        "trace": [
          {
            "current": {
              "decoded": 0n,
              "hex": "0x00",
            },
            "fullExpression": "myBytes._length",
            "modified": true,
            "next": {
              "decoded": 60n,
              "hex": "0x3c",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000001",
            ],
          },
          {
            "current": {
              "decoded": "0x",
              "hex": "0x00",
            },
            "fullExpression": "myBytes",
            "modified": true,
            "next": {
              "decoded": "0xabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd",
              "hex": "0xabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcdabcd",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000001",
              "0xb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6",
              "0xb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf7",
            ],
          },
        ],
        "type": "bytes",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Short Values (<= 31 bytes) > should trace clearing a short string 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999999682711n,
      "modified": true,
      "next": 9999999999999528291n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 12n,
              "hex": "0x0c",
            },
            "fullExpression": "myString._length",
            "modified": true,
            "next": {
              "decoded": 0n,
              "hex": "0x00",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "short string",
              "hex": "0x73686f727420737472696e67",
            },
            "fullExpression": "myString",
            "modified": true,
            "next": {
              "decoded": "",
              "hex": "0x00",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Short Values (<= 31 bytes) > should trace getting a short string 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999999682711n,
      "modified": true,
      "next": 9999999999999511967n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 12n,
              "hex": "0x0c",
            },
            "fullExpression": "myString._length",
            "modified": false,
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "short string",
              "hex": "0x73686f727420737472696e67",
            },
            "fullExpression": "myString",
            "modified": false,
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Short Values (<= 31 bytes) > should trace getting short bytes 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999999683299n,
      "modified": true,
      "next": 9999999999999512541n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myBytes": {
        "kind": "bytes",
        "name": "myBytes",
        "trace": [
          {
            "current": {
              "decoded": 5n,
              "hex": "0x05",
            },
            "fullExpression": "myBytes._length",
            "modified": false,
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000001",
            ],
          },
          {
            "current": {
              "decoded": "0x0102030405",
              "hex": "0x0102030405",
            },
            "fullExpression": "myBytes",
            "modified": false,
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000001",
            ],
          },
        ],
        "type": "bytes",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Short Values (<= 31 bytes) > should trace setting a short string 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 10000000000000000000n,
      "modified": true,
      "next": 9999999999999682711n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": true,
      "next": 1,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 0n,
              "hex": "0x00",
            },
            "fullExpression": "myString._length",
            "modified": true,
            "next": {
              "decoded": 12n,
              "hex": "0x0c",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "",
              "hex": "0x00",
            },
            "fullExpression": "myString",
            "modified": true,
            "next": {
              "decoded": "short string",
              "hex": "0x73686f727420737472696e67",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Short Values (<= 31 bytes) > should trace setting short bytes 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 10000000000000000000n,
      "modified": true,
      "next": 9999999999999683299n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": true,
      "next": 1,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myBytes": {
        "kind": "bytes",
        "name": "myBytes",
        "trace": [
          {
            "current": {
              "decoded": 0n,
              "hex": "0x00",
            },
            "fullExpression": "myBytes._length",
            "modified": true,
            "next": {
              "decoded": 5n,
              "hex": "0x05",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000001",
            ],
          },
          {
            "current": {
              "decoded": "0x",
              "hex": "0x00",
            },
            "fullExpression": "myBytes",
            "modified": true,
            "next": {
              "decoded": "0x0102030405",
              "hex": "0x0102030405",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000001",
            ],
          },
        ],
        "type": "bytes",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Transitions > should trace updating long string to another long string (different length) 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999998731775n,
      "modified": true,
      "next": 9999999999997505165n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 180n,
              "hex": "0xb4",
            },
            "fullExpression": "myString._length",
            "modified": true,
            "next": {
              "decoded": 330n,
              "hex": "0x014a",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "a very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long string",
              "hex": "0x612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67",
            },
            "fullExpression": "myString",
            "modified": true,
            "next": {
              "decoded": "an even longer string than beforean even longer string than beforean even longer string than beforean even longer string than beforean even longer string than beforean even longer string than beforean even longer string than beforean even longer string than beforean even longer string than beforean even longer string than before",
              "hex": "0x616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265616e206576656e206c6f6e67657220737472696e67207468616e206265666f7265",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e566",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e568",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e569",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56a",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56b",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56c",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56d",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Transitions > should trace updating long string to short string 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999998731775n,
      "modified": true,
      "next": 9999999999998383966n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 180n,
              "hex": "0xb4",
            },
            "fullExpression": "myString._length",
            "modified": true,
            "next": {
              "decoded": 12n,
              "hex": "0x0c",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "a very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long string",
              "hex": "0x612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67",
            },
            "fullExpression": "myString",
            "modified": true,
            "next": {
              "decoded": "short string",
              "hex": "0x73686f727420737472696e67",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e566",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e568",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;

exports[`Bytes and Strings > Transitions > should trace updating short string to long string 1`] = `
{
  "0x0000000000000000000000000000000000000000": {
    "balance": {
      "current": 1000000000000000000000n,
      "modified": false,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {},
  },
  "0x0000000000000000000000000000000000000001": {
    "balance": {
      "current": 9999999999999682711n,
      "modified": true,
      "next": 9999999999998534186n,
    },
    "code": {
      "current": "0x",
      "modified": false,
    },
    "nonce": {
      "current": 1,
      "modified": true,
      "next": 2,
    },
    "storage": {},
  },
  "0x4279746573000000000000000000000000000000": {
    "balance": {
      "current": 0n,
      "modified": false,
    },
    "code": {
      "current": "0x608060405234801561000f575f5ffd5b5060043610610086575f3560e01c806389ea642f1161005957806389ea642f14610100578063b207818e1461011e578063cc08299014610128578063da359dc81461013257610086565b80630bcd3b331461008a578063492bfa18146100a8578063712f4602146100c65780637fcaf666146100e4575b5f5ffd5b61009261014e565b60405161009f9190610458565b60405180910390f35b6100b06101de565b6040516100bd91906104ca565b60405180910390f35b6100ce610269565b6040516100db9190610458565b60405180910390f35b6100fe60048036038101906100f99190610627565b6102f5565b005b610108610307565b60405161011591906104ca565b60405180910390f35b610126610396565b005b6101306103b5565b005b61014c6004803603810190610147919061070c565b6103d5565b005b60606001805461015d90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461018990610780565b80156101d45780601f106101ab576101008083540402835291602001916101d4565b820191905f5260205f20905b8154815290600101906020018083116101b757829003601f168201915b5050505050905090565b5f80546101ea90610780565b80601f016020809104026020016040519081016040528092919081815260200182805461021690610780565b80156102615780601f1061023857610100808354040283529160200191610261565b820191905f5260205f20905b81548152906001019060200180831161024457829003601f168201915b505050505081565b6001805461027690610780565b80601f01602080910402602001604051908101604052809291908181526020018280546102a290610780565b80156102ed5780601f106102c4576101008083540402835291602001916102ed565b820191905f5260205f20905b8154815290600101906020018083116102d057829003601f168201915b505050505081565b805f90816103039190610959565b5050565b60605f805461031590610780565b80601f016020809104026020016040519081016040528092919081815260200182805461034190610780565b801561038c5780601f106103635761010080835404028352916020019161038c565b820191905f5260205f20905b81548152906001019060200180831161036f57829003601f168201915b5050505050905090565b60405180602001604052805f8152505f90816103b29190610959565b50565b60405180602001604052805f815250600190816103d29190610a80565b50565b80600190816103e49190610b4f565b5050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f61042a826103e8565b61043481856103f2565b9350610444818560208601610402565b61044d81610410565b840191505092915050565b5f6020820190508181035f8301526104708184610420565b905092915050565b5f81519050919050565b5f82825260208201905092915050565b5f61049c82610478565b6104a68185610482565b93506104b6818560208601610402565b6104bf81610410565b840191505092915050565b5f6020820190508181035f8301526104e28184610492565b905092915050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61053982610410565b810181811067ffffffffffffffff8211171561055857610557610503565b5b80604052505050565b5f61056a6104ea565b90506105768282610530565b919050565b5f67ffffffffffffffff82111561059557610594610503565b5b61059e82610410565b9050602081019050919050565b828183375f83830152505050565b5f6105cb6105c68461057b565b610561565b9050828152602081018484840111156105e7576105e66104ff565b5b6105f28482856105ab565b509392505050565b5f82601f83011261060e5761060d6104fb565b5b813561061e8482602086016105b9565b91505092915050565b5f6020828403121561063c5761063b6104f3565b5b5f82013567ffffffffffffffff811115610659576106586104f7565b5b610665848285016105fa565b91505092915050565b5f67ffffffffffffffff82111561068857610687610503565b5b61069182610410565b9050602081019050919050565b5f6106b06106ab8461066e565b610561565b9050828152602081018484840111156106cc576106cb6104ff565b5b6106d78482856105ab565b509392505050565b5f82601f8301126106f3576106f26104fb565b5b813561070384826020860161069e565b91505092915050565b5f60208284031215610721576107206104f3565b5b5f82013567ffffffffffffffff81111561073e5761073d6104f7565b5b61074a848285016106df565b91505092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061079757607f821691505b6020821081036107aa576107a9610753565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f6008830261080c7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826107d1565b61081686836107d1565b95508019841693508086168417925050509392505050565b5f819050919050565b5f819050919050565b5f61085a6108556108508461082e565b610837565b61082e565b9050919050565b5f819050919050565b61087383610840565b61088761087f82610861565b8484546107dd565b825550505050565b5f5f905090565b61089e61088f565b6108a981848461086a565b505050565b5b818110156108cc576108c15f82610896565b6001810190506108af565b5050565b601f821115610911576108e2816107b0565b6108eb846107c2565b810160208510156108fa578190505b61090e610906856107c2565b8301826108ae565b50505b505050565b5f82821c905092915050565b5f6109315f1984600802610916565b1980831691505092915050565b5f6109498383610922565b9150826002028217905092915050565b61096282610478565b67ffffffffffffffff81111561097b5761097a610503565b5b6109858254610780565b6109908282856108d0565b5f60209050601f8311600181146109c1575f84156109af578287015190505b6109b9858261093e565b865550610a20565b601f1984166109cf866107b0565b5f5b828110156109f6578489015182556001820191506020850194506020810190506109d1565b86831015610a135784890151610a0f601f891682610922565b8355505b6001600288020188555050505b505050505050565b5f819050815f5260205f209050919050565b601f821115610a7b57610a4c81610a28565b610a55846107c2565b81016020851015610a64578190505b610a78610a70856107c2565b8301826108ae565b50505b505050565b610a8982610478565b67ffffffffffffffff811115610aa257610aa1610503565b5b610aac8254610780565b610ab7828285610a3a565b5f60209050601f831160018114610ae8575f8415610ad6578287015190505b610ae0858261093e565b865550610b47565b601f198416610af686610a28565b5f5b82811015610b1d57848901518255600182019150602085019450602081019050610af8565b86831015610b3a5784890151610b36601f891682610922565b8355505b6001600288020188555050505b505050505050565b610b58826103e8565b67ffffffffffffffff811115610b7157610b70610503565b5b610b7b8254610780565b610b86828285610a3a565b5f60209050601f831160018114610bb7575f8415610ba5578287015190505b610baf858261093e565b865550610c16565b601f198416610bc586610a28565b5f5b82811015610bec57848901518255600182019150602085019450602081019050610bc7565b86831015610c095784890151610c05601f891682610922565b8355505b6001600288020188555050505b50505050505056fea2646970667358221220b7c66a6fb4ca1a3dc4599c82e924e67c83f5ad352ee8366958febab5b4e15ada64736f6c634300081c0033",
      "modified": false,
    },
    "nonce": {
      "current": 0,
      "modified": false,
    },
    "storage": {
      "myString": {
        "kind": "bytes",
        "name": "myString",
        "trace": [
          {
            "current": {
              "decoded": 12n,
              "hex": "0x0c",
            },
            "fullExpression": "myString._length",
            "modified": true,
            "next": {
              "decoded": 180n,
              "hex": "0xb4",
            },
            "path": [
              {
                "kind": "bytes_length",
                "name": "_length",
              },
            ],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
            ],
          },
          {
            "current": {
              "decoded": "short string",
              "hex": "0x73686f727420737472696e67",
            },
            "fullExpression": "myString",
            "modified": true,
            "next": {
              "decoded": "a very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long stringa very long string",
              "hex": "0x612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67612076657279206c6f6e6720737472696e67",
            },
            "path": [],
            "slots": [
              "0x0000000000000000000000000000000000000000000000000000000000000000",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e564",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e566",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567",
              "0x290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e568",
            ],
          },
        ],
        "type": "string",
      },
    },
  },
}
`;
